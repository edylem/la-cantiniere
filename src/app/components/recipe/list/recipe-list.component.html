<p-toast></p-toast>
<p-confirmDialog></p-confirmDialog>

<div class="flex justify-content-center gap-2 mt-3 mb-3">
  <button
    pButton
    type="button"
    label="Nouvelle recette"
    icon="pi pi-plus"
    (click)="onNewRecipe()"
  ></button>
  <button
    pButton
    type="button"
    [label]="hasActiveFilters ? 'Filtres actifs' : 'Filtrer'"
    icon="pi pi-filter"
    [outlined]="!hasActiveFilters"
    [severity]="hasActiveFilters ? 'info' : 'secondary'"
    (click)="onOpenFilter()"
  ></button>
</div>

<div class="grid">
  <div *ngFor="let recipe of recipes" class="col-12 md:col-6 lg:col-4 xl:col-3">
    <app-recipe-card
      [recipe]="recipe"
      (edit)="onEditRecipe($event)"
      (view)="onViewRecipe($event)"
      (delete)="onDeleteRecipe($event)"
    ></app-recipe-card>
  </div>
</div>

<app-recipe-form
  [recipe]="selectedRecipe"
  [isReadOnly]="isReadOnly"
  [visible]="showFormDialog"
  (visibleChange)="showFormDialog = $event"
  (save)="onSaveRecipe($event)"
  (cancel)="onCancelForm()"
></app-recipe-form>

<app-recipe-filter
  [visible]="showFilterDialog"
  [initialFilters]="currentFilters"
  (visibleChange)="showFilterDialog = $event"
  (filtersChange)="onFiltersChange($event)"
></app-recipe-filter>
